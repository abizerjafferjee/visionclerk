<div class="container-fluid" ng-show="search.main_search_bar">
<section>
  <div style="padding-top: 15%;"></div>
</section>
<!-- Main Search bar -->
<section class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8 mt-2 p-0">
      <div class="card w-100" style="border-radius:0px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
          <div class="card-body align-items-center">
            <form ng-submit="search.searchData(data);" class="form-inline">
              <input ng-model="search.data.query" class="form-control mr-sm-2" type="search" placeholder="" aria-label="Search" style="width:90%; color: black; font-size: 18px; font-family:arial; font-weight:100;">
              <div class="input-group-append">
                <button class="btn btn-primary my-2 my-sm-0" type="submit"><i class="fas fa-search"></i></button>
              </div>

              <div class="loader ml-2" ng-show="search.loading" style="display:inline; width: 30px; height: 30px;"></div>
            </form>
            <!-- <form class="form-inline" ng-controller="searchCtrl as search">
              <div class="form-group">
                <label for="court">Court</label>
                <select name= "inputTag" id= "court" class="form-control" placeholder="Tag Type" ng-model="search.data.court">
                  <option ng-repeat="court in filters" value="{{court}}" >{{court}}</option>
                </select>
              </div>
              <div class="form-group">
                <label for="pwd">Topic</label>
                <input type="text" class="form-control" id="pwd">
              </div>
            </form> -->
          </div>
      </div>
      <div class="card w-100" style="border-radius:0px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
          <div class="card-body mt-2">
          <p class="h5" style="text-align: center; text-decoration: underline; color: #6b61f4;">A Few Examples</p>
          <p style="text-align: center; color: #6b61f4;">Single Offensive Act</p>
          <p style="text-align: center; color: #6b61f4;">Liability of Parent for Child vandalism</p>
          <p style="text-align: center; color: #6b61f4;">Breach of Employment Contract Specified Term Damages</p>
          </div>
      </div>
    </div>
    <!-- <div class="card col-xs-12 col-md-8 align-items-center">
      <form class="form-inline" ng-submit="search.searchData(data);">
            <input class="form-control w-75 mr-3" type="search" ng-model="search.data.query">
            <button class="btn btn-primary" type="submit">Search</button>
      </form>
      <section class="row align-items-center">
          <div class-"col-md-2"></div>
          <div class="card col-xs-12 col-md-8 mt-3" ng-show="search.search_examples">
            <div class="card-body">
            <p class="h5" style="text-align: center; text-decoration: underline; color: #6b61f4;">A Few Examples</p>
            <p style="text-align: center; color: #6b61f4;">Single Offensive Act</p>
            <p style="text-align: center; color: #6b61f4;">Liability of Parent for Child vandalism</p>
            <p style="text-align: center; color: #6b61f4;">Breach of Employment Contract Specified Term Damages</p>
            </div>
          </div>
          <div class-"col-md-2"></div>
      </section>
        <div class="row">
          <div class="col-xs-2 col-md-5"></div>
          <div class="col-xs-8 col-md-2">
            <div class="loader" ng-show="search.loading"></div>
          </div>
          <div class="col-xs-2 col-md-5"></div>
        </div>
    </div> -->
    <div class="col-md-2"></div>
</section>
</div>


<div class="container-fluid" ng-show="!search.main_search_bar">

  <section class="mt-2 p-0">
    <div class="card w-100" style="border-radius:0px;">
    <div class="card-body">
      <form ng-submit="search.searchData(data);" class="form-inline">
        <input ng-model="search.data.query" class="form-control mr-sm-2 w-50" type="search" placeholder="Search" aria-label="Search" style="color: black; font-size: 18px; font-family:arial; font-weight:100;">
        <!-- <div class="input-group mx-2">
          <div class="input-group-prepend">
            <div class="input-group-text">Court</div>
          </div>
          <select class="custom-select" name= "inputTag" id= "court" class="form-control" placeholder="Tag Type" ng-model="search.data.court">
            <option ng-repeat="court in filters" value="{{court}}" >{{court}}</option>
          </select>
        </div> -->
        <!-- <input ng-model="search.data.court" class="form-control mr-sm-2 w-50" type="search" placeholder="filter" aria-label=""> -->
        <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
        <div class="loader ml-2" ng-show="search.loading" style="display:inline; width: 30px; height: 30px;"></div>
        <!-- <label for="court" class="mx-2">Court</label>
        <select name= "inputTag" id= "court" class="form-control" placeholder="Tag Type" ng-model="search.data.court">
          <option ng-repeat="court in filters" value="{{court}}" >{{court}}</option>
        </select> -->
      </form>
    </div>
    </div>
  </section>

  <section class="row mt-2 mb-2 p-0" ng-controller="panelCtrl as panel">

    <div class="col-xs-12 col-sm-3 col-md-5 pr-md-2">
      <section class="card card-cascade narrower p-0 m-0" style="height:800px; overflow-y:auto; border-radius:0px;">
            <div class="card-header">
              <a href="" class="white-text">Results</a>
            </div>

            <div class="card-body p-0">

              <table class="table-responsive">
                  <tbody>
                      <div class="card w-100 show-hide-message alert alert-danger" ng-show="search.noResults" style="border-radius:0px;">
                          <h4>Sorry, we couldn't find any documents based on your query.</h4>
                      </div>
                      <div class="card w-100" style="border-radius:0px;">
                        <div class="card-body">
                          <p style="color: black; font-size: 18px; font-family:arial; font-weight:100;">Sorted by relevance</p>
                        </div>
                      </div>
                      <div ng-repeat="document in pageResults" class="card w-100" style="border-radius:0px;">
                        <div class="card-body">
                          <div class="card-title">
                            <p class="h5 m-0"><a href="" ng-click="panel.selectResult(true, document)" style="color:blue; font-size: 25px; font-family:arial; text-decoration:underline;">{{ document.filename }}</a></p>
                          </div>
                          <div class="card-text">
                            <p ng-show="document.title != 'no title'" class="m-0 p-0" style="color: black; font-size: 18px; font-family:arial; font-weight:100;">{{ document.title }}</p>
                            <p ng-show="document.court != 'no court'" class="m-0 p-0" style="color: black; font-size: 18px; font-family:arial; font-weight:100;">{{ document.court }}</p>
                            <p ng-show="document.location != 'no location'" class="m-0 p-0" style="color: black; font-size: 18px; font-family:arial; font-weight:100;">{{ document.location }} </p>
                            <p ng-show="document.date != 'no date'" class="m-0 p-0" style="color: black; font-size: 18px; font-family:arial; font-weight:100;">{{ document.date }}</p>
                            <p ng-show="document.crimes != 'no crimes'" class="mt-1 m-0 p-0" style="color: black; font-size: 18px; font-family:arial; font-weight:100;">
                              <ul class="m-0 p-0" style="list-style: none; display:inline;" ng-repeat="crime in document.crimes track by $index"><li class="m-0 p-0" style="color: grey; font-style: italic; font-size: 18px; font-family:arial; font-weight:100;">- {{ crime }} </li></ul>
                            </p>
                            <div class="d-flex justify-content-xl-between">
                            <button ng-show="document.highlights != 'no highlights'" class="btn btn-link m-0 p-0" data-toggle="collapse" data-target="#id-{{$index}}" style="color: grey; font-size: 15px; font-family:arial; font-weight:100;">
                              <i class="fas fa-angle-down"></i> Highlights...
                            </button>
                            <form class="form-inline" ng-show="search.feedback_submitted">
                              <div class="form-group">
                                <button class="btn btn-rounded" ng-click="search.userFeedback(10, document.id); search.getDateTimeLocation();">
                                  <i class="far fa-thumbs-up"></i>
                                </button>
                                <button class="btn btn-rounded" ng-click="search.userFeedback(0, document.id); search.getDateTimeLocation();">
                                  <i class="far fa-thumbs-down"></i>
                                </button>
                              </div>
                            </form>
                            </div>
                            <div id="id-{{$index}}" class="collapse hide">
                              <p ng-repeat="highlight in document.highlights" ng-bind-html="highlight" class="m-0 p-0" style="color: black; font-size: 18px; font-family:arial; font-weight:100;"></p>
                            </div>
                          </div>
                        </div>
                      </div>
                  </tbody>
              </table>

                <div class="align-items-center m-2">
                  <nav aria-label="Page navigation example">
                    <ul class="pagination align-items-center m-1" ng-repeat="q in numButtons" style="list-style: none; display:inline;">
                      <li class="page-item p-0" style="float:left">
                        <a class="page-link" ng-show="search.prevTen" ng-click="search.prevTenPages();">Previous</a>
                      </li>
                      <li class="page-item p-0 page-link" ng-click="search.nextPage(q);" style="float:left;">{{ q }}</li>
                      <li class="page-item p-0" style="float: left;">
                        <a class="page-link" ng-show="search.nextTen" ng-click="search.nextTenPages();">Next</a>
                      </li>
                    </ul>
                  </nav>
                </div>
            </div>
      </section>
    </div>

    <div class="col-xs-12 col-sm-9 col-md-7 pr-md-3 p-md-0 mt-xs-3" ng-show="panel.showPanel">
      <section class="card card-cascade narrower p-0 m-0" style="height:800px; border-radius:0px;">
        <div class="card-header">
          <a href="" class="white-text">{{ panel.result.filename }}</a>
        </div>
        <nav>
          <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="nav-text-tab" data-toggle="tab" data-target="#nav-text">Text</a>
            <a class="nav-item nav-link" id="nav-insights-tab" data-toggle="tab" data-target="#nav-insights">Insights</a>
          </div>
        </nav>
        <div class="card-body" style="max-height:80%; overflow-y:auto;">
        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-text" role="tabpanel" aria-labelledby="nav-text-tab">

            <!-- <nav id="navbar-example3" class="navbar navbar-light bg-light">
                <a class="navbar-brand" href="#">Navbar</a>
                <nav class="nav nav-pills flex-column">
                  <a class="nav-link" ng-repeat="(title, content) in panel.documentStructure" data-target="#content-{{$index}}" scroll-to="#content-{{$index}}">{{ title }}</a>
                </nav>
            </nav>

            <div data-spy="scroll" data-target="#navbar-example3" data-offset="0">
              <section ng-repeat="(title, content) in panel.documentStructure" id="content-{{$index}}" ng-bind-html="content"></section>
            </div> -->

            <div class="card-text" ng-bind-html="panel.document"></div>

          </div>
          <div class="tab-pane fade" id="nav-insights" role="tabpanel" aria-labelledby="nav-insights-tab">
            <div ng-repeat="(entity, text) in panel.result.entities" class="card w-100" style="border-radius:0px;">
              <div class="card-body">
                <div clas="card-title" data-toggle="collapse" data-target="#entity-{{$index}}">
                  <p class="h5 m-0" style="color:blue; font-size: 25px; font-family:arial; text-decoration:underline;">{{ entity }}</p>
                </div>
                <div class="card-body collapse hide pt-1" id="entity-{{$index}}" style="max-height:100px; overflow-y:auto;">
                  <ul>
                    <li ng-repeat="t in text" class="badge badge-pill badge-primary mx-1">{{ t }}</li>
                  </ul>
                </div>
              </div>
            </div>
            <div ng-repeat="(topic, concepts) in panel.result.concepts" class="card w-100" style="border-radius:0px;">
              <div class="card-body">
                <div clas="card-title" data-toggle="collapse" data-target="#topic-{{$index}}">
                  <p class="h5 m-0" style="color:blue; font-size: 25px; font-family:arial; text-decoration:underline;">{{ topic }}</p>
                </div>
                <div class="card-body collapse hide pt-1" id="topic-{{$index}}" style="max-height:100px; overflow-y:auto;">
                  <ul>
                    <li ng-repeat="c in concepts" class="badge badge-pill badge-primary mx-1">{{ c }}</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </section>
    </div>

  </section>

</div>
